初始化波参数并检查色散关系...
色散关系检查完成，图像已保存到 ./figures/dispersion_check_*.png
Starting simulation with batch processing and streaming...
Simulation completed! Total time: 118.76 seconds
Updating HDF5 file metadata...
Simulation metadata updated in ./data/solar_wind_ion_v2/20250404_122345/simulation.h5
Loading results for plotting...
Plotting results...
Traceback (most recent call last):
  File "/Users/jshept/Documents/GitHubOrg/From_StackEdit/本科生课程讲义/第五讲讲义/第五讲作业布置/solar_wind_ion_simulation_v2.py", line 543, in <module>
    sim.plot_velocity_distribution(all_solutions, times_to_plot)
  File "/Users/jshept/Documents/GitHubOrg/From_StackEdit/本科生课程讲义/第五讲讲义/第五讲作业布置/solar_wind_ion_simulation_v2.py", line 359, in plot_velocity_distribution
    if time_index >= all_solutions.shape[1]:
                     ^^^^^^^^^^^^^^^^^^^
AttributeError: 'generator' object has no attribute 'shape'
